
namespace Reddit_app
{
    internal class ViewManager
    {
        private ViewManager() { }
        public static ViewManager instance { get { return Nested.instance; } }
        private class Nested
        {
            static Nested()
            {
            }

            internal static readonly ViewManager instance = new ViewManager();
        }

        public static RedditUser currentUser = null;

        List<View> views = new List<View>();
        public View currentView;
        public void InitializeViews()
        {
            views.Add(new LoggedOutView());
            views.Add(new LoggedInView());
            currentView = views[0];
        }

        public void SwitchToView(int index)
        {
            if (index >= 0 && index < views.Count)
            {
                currentView = views[index];
            }
            if (currentView != null)
            {
                //currentView.Initialize();
                currentView.Run();
            }
            else
            {
                Console.WriteLine("Invalid view index.");
            }
        }
    }
}
